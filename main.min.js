"use strict";

// Scroll based appearance of sections
var sections = Array.from(document.querySelectorAll("section"));
window.addEventListener("scroll", function () {
  sections.forEach(function (item) {
    if (item.getBoundingClientRect().top < document.documentElement.clientHeight / 1.5) {
      item.classList.add("show");
    }
  });
}); // Automatically set copyright year

var date = new Date();
document.querySelector(".copyright").innerHTML = "&copy;".concat(date.getFullYear(), " Kyle Banks"); // Stuff for mobile

var iframe = document.querySelector("iframe");
document.querySelector("#s1").style.height = document.documentElement.clientHeight + "px";
window.addEventListener("resize", function () {
  return document.querySelector("#s1").style.height = document.documentElement.clientHeight + "px";
});
iframe.style.height = iframe.offsetWidth * 0.5625 + "px";
window.addEventListener("resize", function () {
  return iframe.style.height = iframe.offsetWidth * 0.5625 + "px";
}); // Youtube API for News and Updates section

var APIKEY = "AIzaSyC5J1lBELEgCPIK9XP2_eJk3UCW-t6KwTg";
var videoID;
fetch("https://www.googleapis.com/youtube/v3/search?key=".concat(APIKEY, "&channelId=UCfNjj30JZcDJGsw3TMUnhMA&part=snippet,id&order=date&maxResults=1")).then(function (response) {
  return response.json();
}).then(function (data) {
  videoID = data.items[0].id.videoId;
  document.querySelector(".news").style.backgroundImage = "linear-gradient(90deg, #111314 65%, rgba(17, 19, 20, 0.4)), url(".concat(data.items[0].snippet.thumbnails.high.url, ")");
  document.querySelector(".news h4").innerHTML = data.items[0].snippet.title;
  document.querySelector(".news a").setAttribute("href", "https://youtu.be/".concat(data.items[0].id.videoId));
  document.querySelector(".news a").innerHTML = "https://youtu.be/".concat(data.items[0].id.videoId);
}).then(function () {
  fetch("https://www.googleapis.com/youtube/v3/videos?key=".concat(APIKEY, "&id=").concat(videoID, "&part=snippet")).then(function (response) {
    return response.json();
  }).then(function (data_) {
    var description = data_.items[0].snippet.description.split("https://farewell-north.com/discord");
    document.querySelector(".news p").innerHTML = description[1].slice(0, 200) + "...";
  });
});
